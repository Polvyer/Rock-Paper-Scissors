<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors</title>
</head>
<body>
    <script>

        // Randomly returns either 'Rock', 'Paper' or 'Scissors'
        function computerPlay() {

            let randNum = Math.floor(Math.random() * 3); // Returns a random number btn 0 and 2 (inclusive)

            switch(randNum) {
                case 0: return 'rock';
                    
                case 1: return 'paper';
                    
                case 2: return 'scissors';
            }
        }
        
        // Plays a single round of Rock Paper Scissors
        function playOneRound(playerSelection, computerSelection) {

            playerSelection = playerSelection.toLowerCase(); // Allows user input to be case sensitive

            if (playerSelection === computerSelection) {
                return `Draw! CPU's ${computerSelection} ties Your ${playerSelection}`;
            }
            else if (playerSelection === 'rock' && computerSelection === 'paper') {
                return `You Lose! CPU's ${computerSelection} beats Your ${playerSelection}`;
            }
            else if (playerSelection === 'rock' && computerSelection === 'scissors') {
                return `You Win! Your ${playerSelection} beats CPU's ${computerSelection}`;
            }
            else if (playerSelection === 'paper' && computerSelection === 'rock') {
                return `You Win! Your ${playerSelection} beats CPU's ${computerSelection}`;
            }
            else if (playerSelection === 'paper' && computerSelection === 'scissors') {
                return `You Lose! CPU's ${computerSelection} beats Your ${playerSelection}`;
            }
            else if (playerSelection === 'scissors' && computerSelection === 'rock') {
                return `You Lose! CPU's ${computerSelection} beats Your ${playerSelection}`;
            }
            else if (playerSelection === 'scissors' && computerSelection === 'paper') {
                return `You Win! Your ${playerSelection} beats CPU's ${computerSelection}`;
            }
            else {
                return `Default`;
            }
        }

        // Plays a 5 round game that keeps score and reports a winner or loser at the end
        function game() {
            let i;                  // Used in for loop
            let playerPoints = 0;   // Player's points
            let computerPoints = 0; // CPU's [oints
            let playerSelection;    // Holds Player's choice
            let computerSelection;  // Holds CPU's choice
            let winStatus;          // Holds game result

            for (i = 0; i < 5; i++) {
                playerSelection = prompt("Rock, Paper, or Scissors?", "Rock");
                computerSelection = computerPlay();
                winStatus = playOneRound(playerSelection, computerSelection);
                console.log(winStatus); // Prints out if you won, lost or tied
                
                if (winStatus.includes('Win')) {
                    playerPoints++;
                }
                else if (winStatus.includes('Lose')) {
                    computerPoints++;
                }
            }

            console.log('Final Score')
            console.log(`Player: ${playerPoints}`);
            console.log(`Computer: ${computerPoints}`);

            if (playerPoints > computerPoints) {
                console.log('You win the game! Congrats!');
            }
            else if (computerPoints > playerPoints) {
                console.log('You lose the game! Better luck next time!');
            }
            else {
                console.log('Draw! It could be worse!');
            }
        }

        game(); // Starts game

    </script>
</body>
</html>